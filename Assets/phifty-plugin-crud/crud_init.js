// Generated by CoffeeScript 1.7.1
(function() {
  $(function() {
    $(document).on("click", ".column-sort", function(e) {
      var r;
      r = Region.of(this);
      r.refreshWith({
        _order_column: $(this).data('sort-column'),
        _order_by: $(this).data('sort-type')
      });
      return false;
    });
    $(document).on("change", ".crud-quicksearch", function() {
      var target;
      target = $(this).data("target");
      return $(target).asRegion().refreshWith({
        _q: this.value,
        page: 1
      });
    });
    return $(Region).bind('region.load', function(e, $el) {
      if (typeof $.oembed !== 'undefined') {
        $el.find('.oembed').oembed(null, {
          maxHeight: 160,
          maxWidth: 300
        });
      }
      FormKit.initialize($el);
      $el.find('.tabs').tabs();
      $el.find('.accordion').accordion({
        active: false,
        collapsible: true,
        autoHeight: false
      });
      $el.find(".collapsible").collapse();
      return $el.find(".v-field .hint").each(function(i, e) {
        var $hint;
        $hint = $(this);
        $hint.hide().css({
          position: "absolute",
          zIndex: 100
        });
        $hint.parent().css({
          position: "relative"
        });
        return $hint.prev().hover((function() {
          return $hint.fadeIn();
        }), function() {
          return $hint.fadeOut();
        });
      });
    });
  });

}).call(this);
